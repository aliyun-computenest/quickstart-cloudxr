<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="计算巢是阿里云开放给企业应用服务商的服务管理平台。服务商能够在计算巢上发布私有化部署服务，为其客户提供云上软件一键部署的能力；同时也支持全托管模式的服务，赋能服务商托管其客户资源。">
  <title>云XR实时渲染平台服务实例部署文档 - Aliyun 计算巢 x 云XR</title>

  <link rel="shortcut icon" href="img/favicon.ico">

  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
  <link rel="stylesheet" href="css/theme.css">
  

  

  
  

  
    <script src="search/main.js"></script>
  

  

  <script src="js/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</head>

<body>
  <div class="container">
    <div class="nav">
      <div class="nav-inner">
        <div class="logo">
          <img src="./img/logo-2x.png">
        </div>
        <div class="nav-list">
          <ul>
          
              <li><a href="#xr">云XR实时渲染平台服务实例部署文档</a></li>
              
                  <li><a href="#_1">前提条件</a></li>
                  
              
                  <li><a href="#_2">费用说明</a></li>
                  
              
                  <li><a href="#_3">开放端口说明</a></li>
                  
              
                  <li><a href="#_4">使用说明</a></li>
                  
              
                  <li><a href="#_5">参数说明</a></li>
                  
              
                  <li><a href="#_6">查看服务实例</a></li>
                  
              
                  <li><a href="#xr_1">登录云XR管理页并添加应用</a></li>
                  
              
                  <li><a href="#xr_2">访问云XR应用</a></li>
                  
              
                  <li><a href="#xr_3">XR集群运维</a></li>
                  
              
                  <li><a href="#_7">创建混合实例规格或可用区节点</a></li>
                  
              
          
          </ul>
        </div>
      </div>
    </div>
    <div class="content theme-github">
      
      <div class="content-inner">        
        
        <h1 id="xr">云XR实时渲染平台服务实例部署文档</h1>
<blockquote>
<p><strong>免责声明：</strong>本文档可能包含第三方产品信息，该信息仅供参考。阿里云对第三方产品的性能、可靠性以及操作可能带来的潜在影响，不做任何暗示或其他形式的承诺。</p>
<p>阿里云云XR平台提供3D应用和元宇宙应用的实时渲染计算、音视频流推送服务和应用发布与用户管理服务，可以帮助您将已运行在本地GPU工作站或本地服务器上的3D应用或元宇宙应用在云上发布，您可以使用多种流行终端随时随地的接入应用。本文向您介绍如何部署云XR实时渲染平台服务实例。</p>
</blockquote>
<h2 id="_1">前提条件</h2>
<p>部署云XR实时渲染平台服务实例前，您的阿里云账号需满足以下条件：</p>
<ul>
<li>
<p>由于该服务需要购买云市场镜像，因此您的账号需要有购买云市场镜像商品的权限。</p>
</li>
<li>
<p>创建云XR实时渲染平台服务实例，需要对部分阿里云资源进行访问和创建操作。因此您的账号需要包含如下资源的权限。
  <strong>说明</strong> 当您的账号是RAM账号时，才需要添加此权限。</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>权限策略名称</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>AliyunECSFullAccess</td>
<td>管理云服务器服务（ECS）的权限</td>
</tr>
<tr>
<td>AliyunVPCFullAccess</td>
<td>管理专有网络（VPC）的权限</td>
</tr>
<tr>
<td>AliyunROSFullAccess</td>
<td>管理资源编排服务（ROS）的权限</td>
</tr>
<tr>
<td>AliyunESSFullAccesss</td>
<td>管理弹性伸缩服务（ESS）的权限</td>
</tr>
<tr>
<td>AliyunComputeNestUserFullAccess</td>
<td>管理计算巢服务（ComputeNest）的用户侧权限</td>
</tr>
<tr>
<td>AliyunOSSFullAccess</td>
<td>管理对象存储服务（OSS）权限</td>
</tr>
<tr>
<td>AliyunCloudMonitorFullAccess</td>
<td>管理云监控（CloudMonitor）的权限</td>
</tr>
</tbody>
</table>
<h2 id="_2">费用说明</h2>
<p>云XR实时渲染平台服务的费用如下：</p>
<ul>
<li>
<p>ECS实例、云盘和网络流量的费用为标准费用。</p>
</li>
<li>
<p>云市场收费镜像费用：渲染节点数量 x 镜像基础费用。镜像基础费用如下表所示。</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>适用实例规格族</th>
<th>GRID驱动版本</th>
<th>按量付费</th>
<th>包月</th>
<th>包年</th>
</tr>
</thead>
<tbody>
<tr>
<td>vgn6i-vws, vgn7i-vws</td>
<td>463.15</td>
<td>0.67元/时</td>
<td>320元/月</td>
<td>3200元/年</td>
</tr>
<tr>
<td>gn6i, gn7i</td>
<td>513.46</td>
<td>1.13元/时</td>
<td>540元/月</td>
<td>5840元/年</td>
</tr>
</tbody>
</table>
<h2 id="_3">开放端口说明</h2>
<p>云XR部署在阿里云，管理节点和渲染节点都有外网IP，并且集群部署在同一个私网内。通过外网访问云XR时，管理节点和渲染节点需要开放的端口说明如下表所示。</p>
<p><strong>管理节点</strong></p>
<table>
<thead>
<tr>
<th>端口</th>
<th>协议</th>
<th>是否必须开放</th>
<th>用途</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>8181</td>
<td>TCP</td>
<td>是</td>
<td>前台页面及接口服务</td>
<td>无</td>
</tr>
<tr>
<td>8182</td>
<td>TCP</td>
<td>否</td>
<td>管理后台页面</td>
<td>根据您的需要选择是否开放该端口。 如果考虑安全性可以不开放，但管理云XR后台需要通过远程登录到管理节点后，在本地访问管理后台的页面。</td>
</tr>
</tbody>
</table>
<p><strong>渲染节点</strong></p>
<table>
<thead>
<tr>
<th>端口</th>
<th>协议</th>
<th>是否必须开放</th>
<th>用途</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>10002</td>
<td>TCP</td>
<td>是</td>
<td>WebSocket端口</td>
<td>无</td>
</tr>
<tr>
<td>10011-10030</td>
<td>UDP</td>
<td>是</td>
<td>流媒体端口</td>
<td>一路并发占用一个端口，可以根据自己应用在单个渲染节点的最大并发数来按需开放端口。</td>
</tr>
</tbody>
</table>
<h2 id="_4">使用说明</h2>
<ol>
<li>
<p>登录<a href="https://computenest.console.aliyun.com/user/cn-hangzhou/recommendService">计算巢控制台</a>，在 <strong>推荐服务</strong> 页，找到
   <strong>云XR实时渲染平台</strong> 服务。</p>
</li>
<li>
<p>单击 <strong>正式创建</strong> 或者直接从服务商处获取部署链接。进入服务实例部署页面。</p>
</li>
</ol>
<p><img alt="正式创建" src="images/p524306.png" /></p>
<ol>
<li>在创建服务实例页面，需先选中 <strong>同意授权并创建关联角色</strong> ，选中后即可继续创建服务实例。</li>
</ol>
<p><img alt="授权" src="images/p467950.png" /></p>
<ol>
<li>在创建服务实例页面，根据界面提示填写参数完成部署。</li>
</ol>
<p>根据场景需求，选择对应的实例规格和GRID驱动版本。详细的实例规格和对应的驱动版本如下表所示。</p>
<table>
<thead>
<tr>
<th>适用实例规格族</th>
<th>GRID驱动版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>vgn6i-vws，vgn7i-vws</td>
<td>463.15</td>
</tr>
<tr>
<td>gn6i，gn7i</td>
<td>513.46</td>
</tr>
</tbody>
</table>
<h2 id="_5">参数说明</h2>
<p>您在创建服务实例的过程中，需要配置服务实例信息。下文介绍云XR实时渲染平台服务实例输入参数的详细信息。</p>
<table>
<thead>
<tr>
<th>参数组</th>
<th>参数项</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>地域</td>
<td></td>
<td>华北2（北京）</td>
<td>选中服务实例的地域，建议就近选则，以获取更好的网络体验。 当前地域仅支持：华北2（北京）、华北3（张家口）、华东1（杭州）、华东2（上海）、华南1（深圳）、华南2（河源）、华南3（广州）、西南1（成都）和中国香港。</td>
</tr>
<tr>
<td>渲染节点</td>
<td>节点数量</td>
<td>1</td>
<td>设置创建的GPU ECS数量。 一个节点支持一路应用，创建后节点数量不可更改。</td>
</tr>
<tr>
<td>渲染节点</td>
<td>实例规格</td>
<td>ecs.vgn6i-m4-vws.xlarge</td>
<td>选择渲染节点的实例规格。 当前服务只支持以下两种共4个vGPU规格： * vgn6i-vws/vgn7i-vws * gn6i/gn7i</td>
</tr>
<tr>
<td>渲染节点</td>
<td>系统盘类型</td>
<td>cloud_essd</td>
<td>选择渲染节点的系统盘类型。可选值： * cloud_efficiency：高效云盘  * cloud_ssd：SSD云盘  * cloud_essd：ESSD云盘</td>
</tr>
<tr>
<td>渲染节点</td>
<td>系统盘大小</td>
<td>40</td>
<td>设置渲染节点的系统盘大小。默认值：40，取值范围：40\~500，单位GiB。</td>
</tr>
<tr>
<td>渲染节点</td>
<td>是否创建数据盘</td>
<td>否</td>
<td>默认不需要使用数据盘。</td>
</tr>
<tr>
<td>管理节点</td>
<td>实例规格</td>
<td>ecs.s6-c1m2.xlarge</td>
<td>选择管理节点的实例规格。</td>
</tr>
<tr>
<td>管理节点</td>
<td>系统盘类型</td>
<td>cloud_essd</td>
<td>选择管理节点的系统盘类型。可选值： * cloud_efficiency：高效云盘  * cloud_ssd：SSD云盘  * cloud_essd：ESSD云盘</td>
</tr>
<tr>
<td>管理节点</td>
<td>系统盘大小</td>
<td>40</td>
<td>设置管理节点的系统盘大小。默认值：40，取值范围：40\~500，单位GiB。</td>
</tr>
<tr>
<td>管理节点</td>
<td>是否创建数据盘</td>
<td>否</td>
<td>默认不需要使用数据盘。</td>
</tr>
<tr>
<td>基础配置</td>
<td>VPC ID</td>
<td>vpc-xxx</td>
<td>选择专有网络的ID。</td>
</tr>
<tr>
<td>基础配置</td>
<td>交换机可用区</td>
<td>可用区 H</td>
<td>选择交换机的可用区。若可用区为空, 可能是选定的实例规格无库存，请尝试切换 <strong>渲染节点</strong> 的实例规格。</td>
</tr>
<tr>
<td>基础配置</td>
<td>交换机ID</td>
<td>vsw-xxx</td>
<td>选择交换机ID。若找不到交换机, 可尝试切换地域和可用区</td>
</tr>
<tr>
<td>基础配置</td>
<td>实例密码</td>
<td>********</td>
<td>设置实例密码。长度8\~30个字符，必须包含三项（大写字母、小写字母、数字、 ()`\~!@#$%\^\&amp;*_-+=|{}[]:;'\&lt;&gt;,.?/ 中的特殊符号）。</td>
</tr>
<tr>
<td>基础配置</td>
<td>付费模式</td>
<td>PostPaid</td>
<td>选择付费模式。可选值： * PostPaid：按量付费  * PrePaid：预付费，包年包月</td>
</tr>
<tr>
<td>基础配置</td>
<td>流量付费类型</td>
<td>PayByTraffic</td>
<td>选择流量付费类型。可选值： * PayByTraffic：按流量付费  * PayByBandwidth：按带宽付费</td>
</tr>
<tr>
<td>基础配置</td>
<td>公网带宽</td>
<td>100</td>
<td>设置公网带宽。取值范围：0\~100，单位：Mbps。 当公网带宽设置为0时，表示没有公网IP。若无公网IP时，需要确保实例能以其他方式访问外网，以便能够顺利激活本产品。</td>
</tr>
</tbody>
</table>
<p><img alt="部署服务" src="images/p468304.png" /></p>
<h2 id="_6">查看服务实例</h2>
<p>服务实例创建成功后，部署时间大约需要10分组。部署完成后，您需要获取管理节点IP用于后续操作。</p>
<ol>
<li>
<p>打开<a href="https://computenest.console.aliyun.com/user/cn-hangzhou/serviceInstance/private">服务实例管理</a>
   页面中，单击服务实例ID，进入服务实例详情页面。</p>
</li>
<li>
<p>单击 <strong>资源</strong>
   页签，找到管理节点（管理节点的资源名称为xr-admin），记录管理节点的公网IP地址（例如123.56.x.x）。<img alt="获取IP" src="images/p468359.png" /></p>
</li>
</ol>
<h2 id="xr_1">登录云XR管理页并添加应用</h2>
<ol>
<li>
<p>登录管理页。</p>
<ol>
<li>使用管理节点IP加8182端口，登录管理页面。本文以上文获取的管理节点的IP地址http://123.56.x.x:8182为例。</li>
</ol>
</li>
<li>
<p>在登录页面输入登录ID、密码和验证码后，单击 <strong>登录</strong> 。</p>
</li>
</ol>
<p>首次登录云XR，使用默认登录ID和密码。</p>
<pre><code>* 登录ID：admin

* 密码：123456

  **重要** 为保证您的账号安全，首次登录云XR后，请先修改密码。

  登录云XR管理页后，在左侧导航栏中单击 **修改密码** ，即可进入修改密码页面进行修改。
  ![登录](images/p468407.png)
</code></pre>
<ol>
<li>您可以在资源监控页面，查看当前服务的资源信息。</li>
</ol>
<p><img alt="资源使用" src="images/p468437.png" /></p>
<ol>
<li>
<p>添加应用。</p>
<ol>
<li>在云XR管理页的左侧导航栏中，选择 <strong>应用管理</strong> &gt; <strong>应用一览</strong> 。</li>
</ol>
</li>
<li>
<p>在 <strong>应用一览</strong> 页面中，单击 <strong>添加应用</strong> 。</p>
</li>
<li>
<p>在 <strong>添加应用</strong> 页面，选择 <strong>上传绿色面安装版程序</strong> 并单击 <strong>下一步</strong> 。</p>
</li>
<li>
<p>单击虚线框中的 <strong>点击上传</strong> ，在弹出的弹框中选择您要上传的3D应用的zip包，或者将zip包直接拖入虚线框中。</p>
</li>
</ol>
<p>若您想测试添加功能，可使用我们为您提供的测试应用。单击<a href="https://xr-paas.oss-cn-beijing.aliyuncs.com/unity-LEGO.zip">Unity-LEGO.zip</a>
   ，可下载测试应用包。<img alt="上传" src="images/p468454.png" /></p>
<ol>
<li>上传完成后，单击 <strong>下一步</strong> ，在弹出的界面中，根据你上传的应用包填写数据。</li>
</ol>
<p><img alt="填写数据" src="images/p468465.png" /></p>
<ol>
<li>单击 <strong>保存</strong> 。</li>
</ol>
<p>保存后可在 <strong>应用一览</strong> 界面查看应用信息。
   <img alt="查看详情" src="images/p468474.png" /></p>
<h2 id="xr_2">访问云XR应用</h2>
<p>应用上传成功后，您可以登录应用展示页查看应用。</p>
<ol>
<li>
<p>使用管理节点IP加8181端口，登录应用展示页，单击 <strong>进入应用</strong> 。<img alt="进入应用" src="images/p468490.png" /></p>
</li>
<li>
<p>进入应用后，您可以进行如下操作。</p>
<ul>
<li>在应用内部时，您可以通过应用支持的输入方式来操控。如测试应用unity-LEGO为例，您可以使用键盘的W、A、S、D控制移动；单击或双击空格，控制小跳或大跳；单击TAG键设置菜单。</li>
</ul>
</li>
<li>
<p>单击右下角的控制球，会展开铺满、全屏、网络等二级菜单。</p>
</li>
<li>
<p>单击Esc键可切出应用。</p>
</li>
<li>
<p>单击二级菜单中的退出或直接关闭浏览器的标签页即可退出程序。</p>
</li>
</ol>
<p><img alt="进入应用" src="images/p468509.png" /></p>
<h2 id="xr_3">XR集群运维</h2>
<p>当服务实例的集群渲染节点个数不满足需要时, 可通过计算巢的扩容功能来增加渲染节点。</p>
<ol>
<li>
<p>登录<a href="https://computenest.console.aliyun.com/user/cn-hangzhou/recommendService">计算巢控制台</a>。</p>
</li>
<li>
<p>在左侧导航栏中，单击 <strong>服务实例管理</strong> ，进入服务实例管理页面。</p>
</li>
<li>
<p>单击服务实例ID，进入服务实例详情页。然后单击 <strong>运维管理</strong> 页签。</p>
</li>
<li>
<p>在 <strong>应用运维</strong> 区域，单击 <strong>弹性扩缩容</strong> 。</p>
</li>
</ol>
<p><img alt="弹性扩缩容" src="images/p524325.png" /></p>
<ol>
<li>在弹出的 <strong>弹性扩缩容</strong> 弹框中，配置对应的扩容参数并单击 <strong>下一步</strong> 。</li>
</ol>
<p><img alt="配置参数" src="images/p524327.png" /></p>
<ol>
<li>确认参数信息后，单击 <strong>确定</strong> 。完成扩容。</li>
</ol>
<h2 id="_7">创建混合实例规格或可用区节点</h2>
<p>基于已有的渲染节点实例，通过克隆伸缩组，调整伸缩组配置等操作实现混合实例规格或可用区节点的创建。</p>
<ol>
<li>
<p><strong>克隆伸缩组</strong></p>
<ol>
<li>
<p>在 <strong>服务实例详情</strong> 页中，单击 <strong>资源</strong> 页签。</p>
</li>
<li>
<p>在资源页签中，单击名称前缀为asg的伸缩组ID，进入伸缩组基本信息界面。<img alt="选择伸缩组" src="images/p534655.png" /></p>
</li>
<li>
<p>单击右上角的 <strong>克隆</strong> 。<img alt="单击克隆" src="images/p534706.png" /></p>
</li>
<li>
<p>在弹出的 <strong>克隆伸缩组</strong> 弹框中，修改 <strong>伸缩组名称</strong> 、选中 <strong>选择已有实例</strong> 、选择已有的渲染节点和 <strong>选择交换机</strong>
   等配置。
   <strong>说明</strong> 选择已有实例时，推荐选择-0000后缀的实例。
   <img alt="克隆伸缩组" src="images/p534718.png" /></p>
</li>
<li>
<p>单击 <strong>确认创建</strong> 。</p>
</li>
</ol>
<p>单击后，页面将跳转至<a href="https://essnew.console.aliyun.com/">弹性伸缩控制台</a>。</p>
</li>
<li>
<p><strong>修改伸缩组配置</strong></p>
<ol>
<li>
<p>在转跳后的界面右上角，单击 <strong>启用</strong> ，待伸缩组配置启用后，单击 <strong>实例配置来源</strong> 页签，并在需要修改的伸缩组对应的 <strong>操作
   ** 列，单击 </strong>修改** 。</p>
</li>
<li>
<p>在 <strong>实例规格</strong> 区域，修改伸缩组的实例规格。</p>
</li>
</ol>
<p>为避免后续管理混淆，建议只保留一种规格。目前可选择的实例规格，请参见<a href="#section-kmr-eq9-4ne">费用说明</a>。
   <img alt="修改规格" src="images/p534910.png" /></p>
<ol>
<li>
<p>在 <strong>镜像</strong> 区域，选择 <strong>镜像市场</strong> &gt; <strong>重新选择镜像</strong> 。<img alt="重新搜索镜像" src="../images/p534917.png" /></p>
</li>
<li>
<p>在弹框中搜索xr，在搜索结果中选择最新版本然后单击 <strong>使用</strong> 。<img alt="选择镜像" src="images/p534920.png" /></p>
</li>
<li>
<p>单击右下角的 <strong>下一步系统配置</strong> ，在 <strong>系统配置（选填）</strong> 页签，修改 <strong>实例名称</strong> 与 **主机名
   ** 。<img alt="修改实例名称" src="images/p535200.png" /></p>
</li>
<li>
<p>单击右下角的 <strong>下一步系统配置</strong> ，在 <strong>确认配置</strong> 页签中，确认修改信息。然后单击 **确认修改
   ** 。<img alt="确认修改" src="images/p535213.png" /></p>
</li>
</ol>
</li>
<li>
<p><strong>将伸缩组添加到XR实例</strong></p>
</li>
</ol>
<p>提交计算巢工单，申请将创建好的伸缩组，添加至对应的XR实例。工单填写示例如下：
    * 工单类型：计算巢</p>
<pre><code>* 需求：申请将伸缩组添加至XR服务实例

* 伸缩组ID：asg-xxx

* 服务实例ID：si-xxx
</code></pre>
<ol>
<li>
<p><strong>使用伸缩组</strong>
    1.
    工单处理成功后，打开<a href="https://computenest.console.aliyun.com/user/cn-hangzhou/serviceInstance/private">服务实例管理</a>
    页面中，单击服务实例ID，进入服务实例详情页面。</p>
<ol>
<li>
<p>在服务详情页面，单击 <strong>资源</strong> ，查看创建的伸缩组。<img alt="查看伸缩组" src="images/p535231.png" /></p>
</li>
<li>
<p>单击 <strong>运维管理</strong> ，然后在 <strong>应用运维</strong> 区域单击 <strong>弹性扩缩容</strong>
   时，在设置界面中可以根据需要选择上面创建的伸缩组。更多信息，请参见<a href="#section-87f-3fh-35b">XR集群运维</a>。</p>
</li>
</ol>
</li>
<li>
<p><strong>删除伸缩组</strong></p>
</li>
</ol>
<p>在释放XR实例之前，请到<a href="https://essnew.console.aliyun.com/">弹性伸缩控制台</a>删除手工创建的伸缩组，避免因依赖问题导致XR实例释放失败。   </p>
        
      </div>

      <div class="copyrights">© 2009-2022 Aliyun.com 版权所有</div>
    </div>
  </div>
  
  <!--
  MkDocs version      : 1.6.1
  Docs Build Date UTC : 2024-10-10 09:26:25.933394+00:00
  -->
</body>
</html>